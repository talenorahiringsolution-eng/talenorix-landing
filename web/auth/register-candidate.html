<!-- /web/auth/register-candidate.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crear cuenta candidato | Talenorix</title>

  <!-- ‚úÖ Paths correctos desde /web/auth/ -->
   <link rel="preload" href="web/css/normalize.css" as="style">
  <link rel="stylesheet" href="../css/normalize.css" />

  <link rel="preload" href="../css/auth-candidate.css" as="style">
  <link rel="stylesheet" href="../css/auth-candidate.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script defer src="/web/supabaseClient.js"></script>
<script defer src="/web/auth/register-candidate.js"></script>

</head>

<body class="candidate-auth">
<header class="main-header"> 
  <div class="barra-superior">

    <a class="brand" href="../web-index.html" aria-label="Ir al inicio">
      <img
        src="../assets/logo/ths rombo mostasa fondo transparente.png"
        alt="Talenorix Hiring Solutions"
        class="topbar-logo"
      />
      <span class="brand-name">TALENORIX HIRING SOLUTIONS</span>
    </a>

    <div class="language-selector">
      <label for="languageSelector" class="lang-label">Language / Idioma</label>
      <select id="languageSelector" class="lang-select">
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
        <option value="fr">Fran√ßais</option>
        <option value="de">Deutsch</option>
        <option value="pt">Portugu√™s</option>
        <option value="ko">ÌïúÍµ≠Ïñ¥</option>
        <option value="zh">‰∏≠Êñá</option>
        <option value="jp">Êó•Êú¨Ë™û</option>
      </select>
    </div>

  </div>


  <div class="header-actions">
    <a class="back-button" href="../web-index.html">‚Üê Volver al inicio</a>
  </div>
</header>

<main class="candidate-auth__main">
  <section class="candidate-card">
    <div class="candidate-card__grid">

      <!-- Col izquierda -->
      <div class="candidate-card__intro">
        <h1 class="candidate-title">Crear cuenta de candidato</h1>
        <p class="candidate-subtitle">
          Usa un correo real. Te enviaremos un enlace de confirmaci√≥n.
        </p>

        <ul class="candidate-bullets">
          <li>Un solo perfil para m√∫ltiples vacantes.</li>
          <li>Datos estructurados (no CVs ca√≥ticos).</li>
          <li>Trazabilidad de tus aplicaciones.</li>
          <li>Privacidad y control desde el inicio.</li>
        </ul>

        <div class="candidate-note">
          <strong>Requisitos de contrase√±a:</strong>
          <ul class="pwd-rules">
            <li id="rLen" class="rule bad">‚Ä¢ 8+ caracteres</li>
            <li id="rUp"  class="rule bad">‚Ä¢ 1 may√∫scula</li>
            <li id="rNum" class="rule bad">‚Ä¢ 4 n√∫meros</li>
            <li id="rSp"  class="rule bad">‚Ä¢ 1 car√°cter especial (!@#$ etc.)</li>
            <li id="rEq"  class="rule bad">‚Ä¢ Deben coincidir</li>
          </ul>
          <p id="pwdError" class="rules-error" style="display:none;">
            Las contrase√±as no coinciden.
          </p>
        </div>
      </div>

      <!-- Col derecha -->
      <div class="candidate-card__form">
        <form id="registerCandidateForm" novalidate autocomplete="on">
          <h2 class="candidate-form-title">Crear cuenta</h2>

          <p id="msg" class="msg"></p>

          <div class="grid-2">
            <div class="field">
              <label for="first_name">Primer nombre</label>
              <input id="first_name" type="text" autocomplete="given-name" required />
            </div>

            <div class="field">
              <label for="middle_name">Segundo nombre</label>
              <input id="middle_name" type="text" autocomplete="additional-name" />
            </div>

            <div class="field">
              <label for="last_name">Primer apellido</label>
              <input id="last_name" type="text" autocomplete="family-name" required />
            </div>

            <div class="field">
              <label for="second_last_name">Segundo apellido</label>
              <input id="second_last_name" type="text" />
            </div>
          </div>

          <div class="field">
            <label for="email">Correo electr√≥nico</label>
            <input id="email" type="email" autocomplete="email" placeholder="tuemail@correo.com" required />
          </div>

          <div class="field">
            <label for="password">Contrase√±a</label>
            <div class="password-row">
              <input id="password" type="password" autocomplete="new-password" required />
              <button type="button" class="eye" id="togglePass1" aria-label="Mostrar/ocultar contrase√±a">üëÅ</button>
            </div>
          </div>

          <div class="field">
            <label for="password2">Confirmar contrase√±a</label>
            <div class="password-row">
              <input id="password2" type="password" autocomplete="new-password" required />
              <button type="button" class="eye" id="togglePass2" aria-label="Mostrar/ocultar confirmaci√≥n">üëÅ</button>
            </div>
          </div>

          <div class="legal-check">
            <input type="checkbox" id="termsAccepted" />
            <label for="termsAccepted">
              Acepto los
              <a href="../legal/terminos.html" target="_blank" rel="noopener">T√©rminos y Condiciones</a>
              y las
              <a href="../legal/privacidad.html" target="_blank" rel="noopener">Pol√≠ticas de Privacidad</a>
              (y pol√≠ticas relacionadas) de Talenorix Hiring Solutions.
            </label>
          </div>

          <button id="btn" type="submit" class="btn-primary">
            Crear cuenta
          </button>

          <p class="login-link">
            ¬øYa tienes cuenta? <a href="login-candidate.html">Inicia sesi√≥n</a>
          </p>
        </form>
      </div>

    </div>
  </section>
</main>

<!-- ‚úÖ Supabase siempre desde ../../supabaseClient.js >
<script src="/web/supabaseClient.js"></script>
<script-- defer src="./register-candidate.js"></script-->

<script>
  // Toggle password (sin dependencias)
  (function () {
    const t1 = document.getElementById('togglePass1');
    const t2 = document.getElementById('togglePass2');
    const p1 = document.getElementById('password');
    const p2 = document.getElementById('password2');
    if (t1 && p1) t1.addEventListener('click', () => p1.type = (p1.type === 'password' ? 'text' : 'password'));
    if (t2 && p2) t2.addEventListener('click', () => p2.type = (p2.type === 'password' ? 'text' : 'password'));
  })();
</script>
</body>
</html>